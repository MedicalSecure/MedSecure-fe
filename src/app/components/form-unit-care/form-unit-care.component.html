<div class="form-container">
  <div class="content-wrap p-2">
    <div class="input-group">
      <div class="input-group-prepend">
        <span class="input-group-text"
          ><i class="fa fa-search text-black"></i
        ></span>
      </div>
      <input
        class="form-control"
        type="search"
        placeholder="Search"
        aria-label="Search"
      />
    </div>

    <br />
    <h4 class="card-title">Add Unit Care</h4>

    <form class="forms-sample">
      <div class="form-group">
        <label for="Title">Title</label>
        <input
          type="text"
          class="form-control"
          id="Title"
          placeholder="Title"
          style="height: 40px"
        />
      </div>
      <div class="form-group">
        <label for="Description">Description</label>
        <textarea
          class="form-control"
          id="Description"
          placeholder="Description"
        ></textarea>
      </div>

      <div class="form-group">
        <label for="Type">Type </label>
        <mat-select
          placeholder="Type"
          class="form-control"
          style="height: 45px"
          [(value)]="selected"
        >
          <mat-option value="none">None</mat-option>
          <mat-option value="general">
            <!-- <img
              src="\assets\icons\General_medical_department.svg"
              alt=""
              class="rounded-circle"
            /> -->
            general
          </mat-option>
          <mat-option value="Intensive">Intensive</mat-option>
          <mat-option value="Coronary"> Coronary </mat-option>
          <mat-option value="Surgical"> Surgical </mat-option>
          <mat-option value="Pediatric"> Pediatric </mat-option>
          <mat-option> Obstetrics </mat-option>
        </mat-select>
      </div>
      <hr />
      <p class="card-description my-auto">Affect Personnel</p>
      <div class="form-group">
        <chips-select
          class="form-control"
          [ObjectName]="'personnel'"
          [customLabel]="'personnel'"
          class="w-100"
          (selectedChipsChange)="selectedChipsChange($event)"
          [enableCustomAdditions]="false"
          [enableQuickSelectFromSuggestions]="true"
          [fullData]="personnels"
          [minimumSearchLength]="2"
          [isStartWithSearch]="true"
          [searchPropertyName]="'name'"
        ></chips-select>
      </div>
      <hr class="mb-0" />
      <div style="display: flex; align-items: center">
        <h6 class="card-description my-auto">Add rooms</h6>

        <div style="margin-left: auto">
          <button
            class="float-left"
            mat-icon-button
            color="primary"
            aria-label="Add"
            matTooltip="Add"
            (click)="addRoom()"
          >
            <mat-icon>add_circle_outline</mat-icon>
          </button>
        </div>
      </div>
      <form [formGroup]="form">
        <div formArrayName="room">
          <div
            *ngFor="let roomGroup of room.controls; let i = index"
            [formGroupName]="i"
          >
            <div style="display: flex; align-items: center">
              <input
                type="text"
                class="form-control"
                formControlName="roomNumber"
                placeholder="room-number"
              />
              <div style="margin-left: auto">
                <button
                  class="float-left"
                  mat-icon-button
                  color="warn"
                  aria-label="Remove/clear"
                  (click)="removeRoom(i)"
                  matTooltip="Remove"
                >
                  <mat-icon>highlight_off</mat-icon>
                </button>
              </div>
            </div>
            @if(roomGroup.get('roomNumber')?.value.length > 0){

            <section class="example-section" [formGroup]="equipments">
              <h4>Select your equipments:</h4>
              <p>
                <mat-checkbox formControlName="Equipment1"
                  >Equipment1</mat-checkbox
                >
              </p>
              <p>
                <mat-checkbox formControlName="Equipment2"
                  >Equipment2</mat-checkbox
                >
              </p>
              <p>
                <mat-checkbox formControlName="Equipment3"
                  >Equipment3</mat-checkbox
                >
              </p>
            </section>

            }
          </div>
        </div>
      </form>
      <br />

      <button type="submit" class="btn btn-primary me-2">Submit</button>
      <button class="btn btn-light">Cancel</button>
    </form>
  </div>
</div>
