<div [className]="containerClasses">
  <div class="search " style="min-width: 20rem">
    <div class="position-relative mt-1">
      <input
        type="text"
        placeholder="Search for medication"
        [formControl]="searchControl"
        [matAutocomplete]="auto"
        class="form-control shadow-sm"
        style="border-color: rgb(238, 238, 238);height: 2.6rem;"
      />
      <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete" >
        <ng-container *ngFor="let medication of filteredMedications | async" class="d-flex align-items-center">
          <mat-option (onSelectionChange)="onChangeSelectedMedication(medication)" class="result">
            {{ getMedicationProperty(medication) }}
          </mat-option>
        </ng-container>
      </mat-autocomplete>
      <button mat-icon-button matSuffix class="position-absolute top-50 bg-transparent" style="right: 5px; transform: translateY(-41%); border: none">
        <mat-icon>search</mat-icon>
      </button>
    </div>
  </div>

  <div style="width: fit-content" >
    <mat-chip-listbox [value]="selectedSearchTerm" (change)="onSearchKeySelectionChange($event)">
      @for(searchTerm of searchTerms;track $index){
      <mat-chip-option [value]="searchTerm">{{ searchTerm.label }}</mat-chip-option>
      }
    </mat-chip-listbox>
  </div>

  <!--     @if (displaySelectedMedication && selectedMedications.length > 0) {
    <div class="mt-3">
      <h4>Selected Medicines:</h4>
      <div
        *ngFor="let medication of selectedMedications"
        class="medication-item"
      >
        <div>
          <p class="d-flex gap-3 mt-1">
            <img
              width="30"
              height="30"
              src="https://img.icons8.com/external-konkapp-flat-konkapp/64/external-syringe-emergency-services-konkapp-flat-konkapp.png"
              alt="external-syringe-emergency-services-konkapp-flat-konkapp"
            />

            <strong>{{ medication["Nom"] }}</strong>
            <strong>{{ medication["Dosage"] }}</strong>
            <strong>{{ medication["Unit"] }}</strong>
            <strong>{{ medication["DCI"] }}</strong>
            <strong>{{ medication["Stock dispo"] }}</strong>
            <img
              src="assets/images/info.svg"
              alt="info"
              style="
                height: 15px;
                width: 15px;
                margin-top: 3px;
              "
              matTooltip="
                Indications: {{ medication['Indications'] }}
                "
            />
          </p>
        </div>
      </div>
    </div>
    } -->
</div>
